<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Peter Carbonetto" />


<title>Setup for Divvy data analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Intro R data analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Overview</a>
</li>
<li>
  <a href="setup.html">Setup</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rcc-uchicago/R-intro-divvy">source</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Setup for Divvy data analysis</h1>
<h4 class="author"><em>Peter Carbonetto</em></h4>

</div>


<!-- The file analysis/chunks.R contains chunks that define default settings
shared across the workflowr files. -->
<!-- Update knitr chunk options -->
<!-- Insert the date the file was last updated -->
<p><strong>Last updated:</strong> 2017-07-31</p>
<!-- Insert the code version (Git commit SHA1) if Git repository exists and R
 package git2r is installed -->
<p><strong>Code version:</strong> 32ec032 <br></p>
<div id="setup-instructions" class="section level2">
<h2>Setup instructions</h2>
<p>To work through the lessons on your computer, please follow these setup instructions first.</p>
<ol style="list-style-type: decimal">
<li><p>You have two options for running R or Rstudio Desktop for this workshop: (a) you can use your computer, or; (b) you can use the RCC compute cluster. If you use the RCC cluster, I recommend connecting with <a href="https://rcc.uchicago.edu/docs/connecting/#connecting-with-thinlinc">ThinLinc</a>. If you do not have an RCC user account, the instructor can provide you with a <a href="yubikeys.html">Yubikey</a>.</p></li>
<li><p>If you are not using the RCC cluster, install R from the <a href="http://cran.r-project.org">CRAN website</a> and, optionally, <a href="https://www.rstudio.com/products/rstudio/download">Rstudio Desktop</a>. <em>Note:</em> If you do not use RStudio Desktop, you will need to have additional software installed for X Windows graphics (e.g., <a href="http://xquartz.org">XQuartz</a> on Mac). Without this, you will not be able to create plots.</p></li>
<li><p>Download or clone the <a href="https://github.com/rcc-uchicago/R-intro-divvy">git repository</a>. Click <a href="https://github.com/rcc-uchicago/R-intro-divvy/archive/master.zip">here</a> to download a Zip file containing all the files. If you are on the cluster, you can use “wget” or “git clone” to download the git repository.</p></li>
<li><p>Download the Divvy data files into the “data” directory, and prepare the data files for analysis. <strong>Easiest approach:</strong> download the prepared data files <a href="https://uchicago.box.com/v/divvy">here</a>, and move the files into the “data” directory. The file on Box is about 82 MB, so it may take a few minutes to download. <strong>More complicated approach:</strong> download the data directly from the Divvy website. I have provided a bash script <code>code/retrieve_divvy_data.sh</code> to do this automatically. This script will also move the files to the expected location, and prepare the files for the analysis in R. This script reproduces the data preparation steps starting from the <a href="https://www.divvybikes.com/system-data">original source</a>.</p></li>
<li><p>After completing Step 4, check that you have all the necessary data files in the “data” directory. For example, on my MacBook Air, I have:</p></li>
</ol>
<pre class="r"><code>list.files(&quot;../data&quot;)
# [1] &quot;Divvy_Stations_2016_Q1Q2.csv&quot; &quot;Divvy_Stations_2016_Q3.csv&quot;  
# [3] &quot;Divvy_Stations_2016_Q4.csv&quot;   &quot;Divvy_Trips_2016.csv&quot;        
# [5] &quot;README.txt&quot;</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Launch R or RStudio Desktop. If you are on the compute cluster, you need to reserve a compute node, then load an R and/or RStudio module. For example,</li>
</ol>
<pre><code>sinteractive --time=02:00:00 --mem=2G --partition=broadwl
module load R/3.3
module load rstudio
rstudio</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>Make sure your working directory in R or RStudio is set to the “analysis” directory of the local git repository. For example, on my MacBook Air, the current working directory in R is</li>
</ol>
<pre class="r"><code>getwd()
# [1] &quot;/Users/pcarbo/git/R-intro-divvy/analysis&quot;</code></pre>
<p>Once you have completed these steps, you are ready to move on to the lessons. <br> <br></p>
</div>
<div id="session-information" class="section level2">
<h2>Session information</h2>
<p>Calling <code>sessionInfo()</code> shows the version of R I am using, and the packages that I used to generate the webpages from the R Markdown documents.</p>
<pre class="r"><code>sessionInfo()
# R version 3.3.2 (2016-10-31)
# Platform: x86_64-apple-darwin13.4.0 (64-bit)
# Running under: macOS Sierra 10.12.5
# 
# locale:
# [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
# 
# attached base packages:
# [1] stats     graphics  grDevices utils     datasets  methods   base     
# 
# other attached packages:
# [1] ggplot2_2.2.1     lubridate_1.6.0   data.table_1.10.4
# 
# loaded via a namespace (and not attached):
#  [1] Rcpp_0.12.12     assertthat_0.2.0 digest_0.6.12    rprojroot_1.2   
#  [5] plyr_1.8.4       grid_3.3.2       gtable_0.2.0     backports_1.0.5 
#  [9] git2r_0.19.0     magrittr_1.5     scales_0.4.1     evaluate_0.10.1 
# [13] stringi_1.1.2    lazyeval_0.2.0   rmarkdown_1.6    tools_3.3.2     
# [17] stringr_1.2.0    munsell_0.4.3    yaml_2.1.14      colorspace_1.3-2
# [21] htmltools_0.3.6  knitr_1.16       tibble_1.2</code></pre>
</div>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>

<hr>
<p>This <a href="http://rmarkdown.rstudio.com">R Markdown</a> site was
created with <a href="https://github.com/jdblischak/workflowr">workflowr</a>
0.7.0.
</p>
<hr>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
